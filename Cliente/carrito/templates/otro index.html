<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PeakSport - Carrito de Compras</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
    
    :root {
      --bg-primary: #0a0a0a;
      --bg-secondary: #1a1a1a;
      --bg-card: #1f1f1f;
      --text-primary: #ffffff;
      --text-secondary: #a1a1aa;
      --accent-red: #ef4444;
      --accent-blue: #3b82f6;
      --accent-green: #10b981;
      --accent-purple: #8b5cf6;
      --glass-bg: rgba(255, 255, 255, 0.05);
      --glass-border: rgba(255, 255, 255, 0.1);
    }
    
    body {
      font-family: 'Inter', sans-serif;
      background: var(--bg-primary);
      color: var(--text-primary);
    }
    
    .dark-gradient {
      background: linear-gradient(135deg, #000000 0%, #ff0000 500%);
    }
    
    .gradient-bg {
      background: linear-gradient(135deg, var(--accent-red) 0%, #dc2626 100%);
    }
    
    .gradient-blue {
      background: linear-gradient(135deg, var(--accent-blue) 0%, #2563eb 100%);
    }
    
    .gradient-green {
      background: linear-gradient(135deg, var(--accent-green) 0%, #059669 100%);
    }
    
    .gradient-purple {
      background: linear-gradient(135deg, var(--accent-purple) 0%, #7c3aed 100%);
    }
    
    .glass-card {
      background: rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(25px);
      border: 1px solid rgba(255, 255, 255, 0.15);
    }
    
    .card-hover {
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .card-hover:hover {
      transform: translateY(-4px);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
      border-color: rgba(239, 68, 68, 0.3);
    }
    
    .pulse-animation {
      animation: pulse 1s ease-in-out;
    }
    
    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }
    
    .slide-in {
      animation: slideIn 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .fade-in {
      animation: fadeIn 0.5s ease-in-out;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    .elegant-shadow {
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4), 0 2px 10px rgba(0, 0, 0, 0.2);
    }
    
    .subtle-glow {
      box-shadow: 0 0 15px rgba(239, 68, 68, 0.2);
    }
    
    .quantity-input {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
    }
    
    .quantity-input:focus {
      outline: none;
      border-color: var(--accent-red);
      box-shadow: 0 0 0 2px rgba(239, 68, 68, 0.2);
    }
    
    .floating-animation {
      animation: floating 6s ease-in-out infinite;
    }
    
    @keyframes floating {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }
  </style>
</head>
<body class="dark-gradient min-h-screen">

  <!-- 游댛 Header -->
  <header class="glass-card shadow-2xl fixed w-full z-50 border-b border-red-500/20">
    <div class="max-w-7xl mx-auto flex justify-between items-center py-4 px-6">
      <div class="flex items-center space-x-4">
        <button onclick="goBack()" class="flex items-center space-x-2 text-gray-300 hover:text-red-400 transition-all duration-300 hover:scale-105">
          <i class="fas fa-arrow-left text-lg"></i>
          <span class="font-medium">Volver a la tienda</span>
        </button>
      </div>
      
      <div class="flex items-center space-x-3">
        <div class="w-10 h-10 gradient-bg rounded-xl flex items-center justify-center floating-animation subtle-glow">
          <i class="fas fa-shopping-cart text-white"></i>
        </div>
        <h1 class="text-2xl font-bold text-red-400">Carrito de Compras</h1>
      </div>
      
      <div class="flex items-center space-x-3 glass-card rounded-full px-4 py-2">
        <img src="https://i.pravatar.cc/32?seed=andres" alt="avatar" class="w-8 h-8 rounded-full border-2 border-red-500">
        <span class="font-medium text-sm text-gray-300 hidden sm:block">Andr칠s</span>
      </div>
    </div>
  </header>

  <main class="pt-24 max-w-7xl mx-auto px-6 pb-16">
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
      
      <!-- 游 Lista de productos -->
      <div class="lg:col-span-2">
        <div class="glass-card rounded-3xl p-8 border border-white/10 slide-in">
          <div class="flex items-center justify-between mb-8">
            <h2 class="text-3xl font-bold text-white">Tus productos</h2>
            <div class="flex items-center space-x-2 text-gray-400">
              <i class="fas fa-box"></i>
              <span id="itemCount">4 art칤culos</span>
            </div>
          </div>
          
          <div id="cartItems" class="space-y-6">
            <!-- Los productos se cargar치n aqu칤 -->
          </div>
          
          <!-- Bot칩n continuar comprando -->
          <div class="mt-8 pt-6 border-t border-white/20">
            <button onclick="continueShopping()" class="flex items-center space-x-3 text-gray-300 hover:text-red-400 transition-all duration-300 hover:scale-105">
              <i class="fas fa-plus"></i>
              <span class="font-medium">Agregar m치s productos</span>
            </button>
          </div>
        </div>
      </div>
      
      <!-- 游눯 Resumen de compra -->
      <div class="lg:col-span-1">
        <div class="glass-card rounded-3xl p-8 border border-white/10 slide-in sticky top-28">
          <h3 class="text-2xl font-bold text-white mb-6">Resumen de compra</h3>
          
          
          
          <!-- Desglose de precios -->
          <div class="space-y-4 mb-6">
            <div class="flex justify-between text-gray-300">
              <span>Subtotal</span>
              <span id="subtotal">$206.00</span>
            </div>
            <div class="flex justify-between text-gray-300">
              <span>Env칤o</span>
              <span id="shipping">$15.00</span>
            </div>
            <div class="flex justify-between text-gray-300">
              <span>Impuestos</span>
              <span id="taxes">$22.10</span>
            </div>
            <div id="discountRow" class="flex justify-between text-green-400 hidden">
              <span>Descuento</span>
              <span id="discount">-$0.00</span>
            </div>
            <div class="border-t border-white/20 pt-4">
              <div class="flex justify-between text-white text-xl font-bold">
                <span>Total</span>
                <span id="total" class="text-red-400">$243.10</span>
              </div>
            </div>
          </div>
          
          <!-- Botones de acci칩n -->
          <div class="space-y-4">
            <button onclick="proceedToCheckout()" class="w-full gradient-bg text-white py-4 rounded-xl hover:scale-105 transition-all font-bold text-lg elegant-shadow">
              <i class="fas fa-credit-card mr-2"></i>
              Proceder al pago
            </button>
            
            <button onclick="saveForLater()" class="w-full glass-card text-white py-3 rounded-xl hover:bg-white/10 transition-all font-medium border border-white/20">
              <i class="fas fa-heart mr-2"></i>
              Guardar para despu칠s
            </button>
          </div>
          
          <!-- Informaci칩n adicional -->
          <div class="mt-6 pt-6 border-t border-white/20">
            <div class="space-y-3 text-sm text-gray-400">
              <div class="flex items-center space-x-2">
                <i class="fas fa-shield-alt text-green-400"></i>
                <span>Compra 100% segura</span>
              </div>
              <div class="flex items-center space-x-2">
                <i class="fas fa-truck text-blue-400"></i>
                <span>Env칤o gratis en pedidos +$100</span>
              </div>
              <div class="flex items-center space-x-2">
                <i class="fas fa-undo text-purple-400"></i>
                <span>30 d칤as para devoluciones</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Notification -->
  <div id="notification" class="fixed top-24 right-6 glass-card text-white px-6 py-4 rounded-2xl shadow-2xl transform translate-x-full transition-all duration-500 z-50 border elegant-shadow">
    <div class="flex items-center space-x-3">
      <div id="notificationIcon" class="w-10 h-10 rounded-full flex items-center justify-center">
        <i class="fas fa-check text-white"></i>
      </div>
      <div>
        <div class="font-bold" id="notificationTitle">Notificaci칩n</div>
        <div class="text-gray-300 text-sm" id="notificationMessage">Mensaje</div>
      </div>
    </div>
  </div>

  <script>
    // Estado global del carrito
    let cartData = {
      items: [
        {
          id: 1,
          name: 'Zapatillas Running Pro',
          brand: 'Nike Air Zoom',
          price: 96.00,
          originalPrice: 120.00,
          quantity: 1,
          image: 'https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=200&h=200&fit=crop',
          size: '42',
          color: 'Negro/Rojo'
        },
        {
          id: 2,
          name: 'Camiseta Dry-Fit',
          brand: 'Adidas Performance',
          price: 35.00,
          originalPrice: null,
          quantity: 2,
          image: 'https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=200&h=200&fit=crop',
          size: 'L',
          color: 'Azul'
        },
        {
          id: 3,
          name: 'Bal칩n Oficial',
          brand: 'FIFA Approved',
          price: 50.00,
          originalPrice: null,
          quantity: 1,
          image: 'https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=200&h=200&fit=crop',
          size: '5',
          color: 'Blanco/Negro'
        },
        {
          id: 4,
          name: 'Guantes de Gym',
          brand: 'Premium Grip',
          price: 25.00,
          originalPrice: null,
          quantity: 1,
          image: 'https://images.unsplash.com/photo-1584464491033-06628f3a6b7b?w=200&h=200&fit=crop',
          size: 'M',
          color: 'Negro'
        }
      ],
      subtotal: 0,
      shipping: 15.00,
      taxes: 0,
      discount: 0,
      total: 0
    };

    // Renderizar productos del carrito
    function renderCartItems() {
      const container = document.getElementById('cartItems');
      container.innerHTML = '';
      
      cartData.items.forEach((item, index) => {
        const itemElement = document.createElement('div');
        itemElement.className = 'glass-card rounded-2xl p-6 border border-white/10 card-hover fade-in';
        itemElement.innerHTML = `
          <div class="flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-6">
            <!-- Imagen del producto -->
            <div class="flex-shrink-0">
              <img src="${item.image}" alt="${item.name}" class="w-24 h-24 sm:w-32 sm:h-32 rounded-xl object-cover border border-white/20">
            </div>
            
            <!-- Informaci칩n del producto -->
            <div class="flex-1 space-y-3">
              <div>
                <h4 class="font-bold text-white text-lg">${item.name}</h4>
                <p class="text-gray-400 text-sm">${item.brand}</p>
                <div class="flex space-x-4 text-sm text-gray-500 mt-1">
                  <span>Talla: ${item.size}</span>
                  <span>Color: ${item.color}</span>
                </div>
              </div>
              
              <!-- Precio y controles -->
              <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0">
                <div class="flex items-center space-x-3">
                  <div class="flex items-center space-x-2">
                    <span class="text-xl font-bold text-red-400">$${item.price.toFixed(2)}</span>
                    ${item.originalPrice ? `<span class="text-sm text-gray-500 line-through">$${item.originalPrice.toFixed(2)}</span>` : ''}
                  </div>
                </div>
                
                <div class="flex items-center space-x-4">
                  <!-- Control de cantidad -->
                  <div class="flex items-center space-x-2">
                    <button onclick="updateQuantity(${index}, -1)" class="w-10 h-10 glass-card rounded-full flex items-center justify-center hover:bg-white/10 transition-all">
                      <i class="fas fa-minus text-sm text-gray-400"></i>
                    </button>
                    <input 
                      type="number" 
                      value="${item.quantity}" 
                      min="1" 
                      max="10"
                      class="quantity-input w-16 h-10 rounded-lg text-center text-white font-bold"
                      onchange="setQuantity(${index}, this.value)"
                    >
                    <button onclick="updateQuantity(${index}, 1)" class="w-10 h-10 glass-card rounded-full flex items-center justify-center hover:bg-white/10 transition-all">
                      <i class="fas fa-plus text-sm text-gray-400"></i>
                    </button>
                  </div>
                  
                  <!-- Bot칩n eliminar -->
                  <button onclick="removeItem(${index})" class="w-10 h-10 glass-card rounded-full flex items-center justify-center hover:bg-red-500/20 transition-all group">
                    <i class="fas fa-trash text-sm text-gray-400 group-hover:text-red-400"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>
        `;
        container.appendChild(itemElement);
      });
      
      updateTotals();
    }

    // Actualizar cantidad
    function updateQuantity(index, change) {
      const item = cartData.items[index];
      const newQuantity = item.quantity + change;
      
      if (newQuantity <= 0) {
        removeItem(index);
        return;
      }
      
      if (newQuantity > 10) {
        showNotification('L칤mite alcanzado', 'M치ximo 10 unidades por producto', 'warning');
        return;
      }
      
      item.quantity = newQuantity;
      renderCartItems();
      showNotification('Cantidad actualizada', `${item.name} - ${newQuantity} unidades`, 'success');
    }

    // Establecer cantidad espec칤fica
    function setQuantity(index, value) {
      const quantity = parseInt(value);
      if (quantity <= 0) {
        removeItem(index);
        return;
      }
      
      if (quantity > 10) {
        showNotification('L칤mite alcanzado', 'M치ximo 10 unidades por producto', 'warning');
        return;
      }
      
      cartData.items[index].quantity = quantity;
      renderCartItems();
    }

    // Eliminar producto
    function removeItem(index) {
      const item = cartData.items[index];
      cartData.items.splice(index, 1);
      renderCartItems();
      showNotification('Producto eliminado', `${item.name} removido del carrito`, 'info');
    }

    // Actualizar totales
    function updateTotals() {
      cartData.subtotal = cartData.items.reduce((sum, item) => sum + (item.price * item.quantity), 0);
      cartData.taxes = cartData.subtotal * 0.1; // 10% de impuestos
      cartData.total = cartData.subtotal + cartData.shipping + cartData.taxes - cartData.discount;
      
      document.getElementById('subtotal').textContent = `$${cartData.subtotal.toFixed(2)}`;
      document.getElementById('shipping').textContent = cartData.subtotal >= 100 ? 'GRATIS' : `$${cartData.shipping.toFixed(2)}`;
      document.getElementById('taxes').textContent = `$${cartData.taxes.toFixed(2)}`;
      document.getElementById('total').textContent = `$${cartData.total.toFixed(2)}`;
      
      // Actualizar contador de art칤culos
      const totalItems = cartData.items.reduce((sum, item) => sum + item.quantity, 0);
      document.getElementById('itemCount').textContent = `${totalItems} art칤culo${totalItems !== 1 ? 's' : ''}`;
      
      // Env칤o gratis si supera $100
      if (cartData.subtotal >= 100) {
        cartData.shipping = 0;
        cartData.total = cartData.subtotal + cartData.taxes - cartData.discount;
        document.getElementById('total').textContent = `$${cartData.total.toFixed(2)}`;
      }
    }

    // Aplicar cup칩n
    function applyCoupon() {
      const couponCode = document.getElementById('couponCode').value.trim().toUpperCase();
      const validCoupons = {
        'DESCUENTO10': 0.10,
        'WELCOME20': 0.20,
        'SPORT15': 0.15,
        'SAVE25': 0.25
      };
      
      if (validCoupons[couponCode]) {
        cartData.discount = cartData.subtotal * validCoupons[couponCode];
        document.getElementById('discountRow').classList.remove('hidden');
        document.getElementById('discount').textContent = `-$${cartData.discount.toFixed(2)}`;
        document.getElementById('couponCode').value = '';
        updateTotals();
        showNotification('춰Cup칩n aplicado!', `${(validCoupons[couponCode] * 100)}% de descuento aplicado`, 'success');
      } else if (couponCode) {
        showNotification('Cup칩n inv치lido', 'El c칩digo ingresado no es v치lido', 'error');
      } else {
        showNotification('C칩digo requerido', 'Por favor ingresa un c칩digo de cup칩n', 'warning');
      }
    }

    // Funciones de navegaci칩n
    function goBack() {
      showNotification('Regresando...', 'Volviendo a la tienda principal', 'info');
      setTimeout(() => {
        window.history.back();
      }, 1000);
    }

    function continueShopping() {
      showNotification('Redirigiendo...', 'Abriendo cat치logo de productos', 'info');
    }

    function proceedToCheckout() {
      if (cartData.items.length === 0) {
        showNotification('Carrito vac칤o', 'Agrega productos antes de continuar', 'warning');
        return;
      }
      
      showNotification('Procesando...', 'Redirigiendo a la p치gina de pago', 'success');
      setTimeout(() => {
        showNotification('춰칄xito!', `Procesando pago de $${cartData.total.toFixed(2)}`, 'success');
      }, 2000);
    }

    function saveForLater() {
      showNotification('Guardado', 'Carrito guardado en tu lista de deseos', 'success');
    }

    // Sistema de notificaciones
    function showNotification(title, message, type = 'info') {
      const notification = document.getElementById('notification');
      const icon = document.getElementById('notificationIcon');
      const titleEl = document.getElementById('notificationTitle');
      const messageEl = document.getElementById('notificationMessage');
      
      const config = {
        success: { icon: 'fas fa-check', color: 'gradient-green', border: 'border-green-500/30' },
        error: { icon: 'fas fa-times', color: 'gradient-bg', border: 'border-red-500/30' },
        warning: { icon: 'fas fa-exclamation', color: 'bg-yellow-500', border: 'border-yellow-500/30' },
        info: { icon: 'fas fa-info', color: 'gradient-blue', border: 'border-blue-500/30' }
      };
      
      const typeConfig = config[type];
      icon.className = `w-10 h-10 ${typeConfig.color} rounded-full flex items-center justify-center`;
      icon.innerHTML = `<i class="${typeConfig.icon} text-white"></i>`;
      notification.className = `fixed top-24 right-6 glass-card text-white px-6 py-4 rounded-2xl shadow-2xl transform translate-x-full transition-all duration-500 z-50 border ${typeConfig.border} elegant-shadow`;
      
      titleEl.textContent = title;
      messageEl.textContent = message;
      
      notification.classList.remove('translate-x-full');
      
      setTimeout(() => {
        notification.classList.add('translate-x-full');
      }, 4000);
    }

    // Inicializaci칩n
    document.addEventListener('DOMContentLoaded', function() {
      renderCartItems();
      
      // Mensaje de bienvenida
      setTimeout(() => {
        showNotification('춰Bienvenido!', 'Revisa y modifica tus productos', 'info');
      }, 500);
    });
  </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'98da815326a2e564',t:'MTc2MDMxMzA4Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
